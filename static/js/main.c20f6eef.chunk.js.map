{"version":3,"sources":["App.js","marvellogo.png","index.js"],"names":["objectarray","apilist","timer","sel1","sel2","numofresults","timestamp","Date","getTime","toString","hash","md5","search","compareselected","App","useState","list","setList","bookmarked","JSON","parse","localStorage","getItem","compareCharacters","event","$","this","index","addClass","find","text","char1","comics","available","char2","scaled1","scaled2","name","append","before","thumbnail","path","animate","height","modal","resetModal","remove","removeClass","css","inputField","clearTimeout","setTimeout","document","getElementById","value","fadeOut","fetch","then","res","json","data","results","length","fadeIn","i","eq","description","useEffect","setItem","stringify","on","className","id","src","photo","align","type","class","placeholder","onChange","role","onClick","previous","clear","tabindex","ReactDOM","render"],"mappings":"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","file":"static/js/main.c20f6eef.chunk.js","sourcesContent":["import {useEffect, useState} from 'react';\nimport './App.css';\nimport md5 from \"md5\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"bootstrap\"\nimport $, { event } from 'jquery';\nimport photo from \"./marvellogo.png\";\n\nlet numofresults = 0;\nlet objectarray;\nlet timestamp=new Date().getTime().toString();\nlet hash = md5(timestamp+\"1dcb46b5f11a736c66a710c676624ee21e00c025\"+\"7f9507ae90588d365ccdb128996f8f45\"); //KORISTI ZA STVARANJE HASHA\nlet search=\"\";\nlet apilist;\nlet timer;\nlet compareselected=0;\nlet sel1,sel2;\n\nfunction App() {\n\n  const[list,setList]=useState([]);\n\n  useEffect(() => {\n    bookmarked();       //POKRECE DVIJE FUNKCIJE NAKON UCITAVANJA STRANICE\n    inputField();\n  },[]);\n\n//USEFFECT ZA SPREMANJE I PRIKAZIVANJE SPREMLJENIH PODATAKA, POKRECE SE SVAKI PUT KADA SE USESTATE PROMIJENI\n  useEffect(()=>{\n\n    if(list!=[]){localStorage.setItem(\"list\",JSON.stringify(list));}\n\n    $(function(){\n      $(\".bookmarkedcharacters div\").remove();\n      for(let i=0; i<list.length; i++){\n        $(\".bookmarkedcharacters\").append(\"<div class='bookchar'><img src='\"+list[i].thumbnail.path+\".jpg' class='picturebookmark'/><p>\"+list[i].name+\"</p><p>\"+list[i].description+\"</p><p class='smalltext'>Click to compare with another character</p></div>\"); \n      }\n      $(\".bookchar\").on(\"click\",compareCharacters);\n    })\n\n  },[list]);\n\n//FUNKCIJA ZA UCITAVANJE SPREMLJENIH PODATAKA\n  function bookmarked(){\n      apilist=JSON.parse(localStorage.getItem(\"list\"));\n      if(apilist==null){apilist=[]};  //POTREBNO ZA SLUCAJE KADA NE POSTOJE SPREMLJENI PODACI\n      setList(apilist);   //MIJENJA USESTATE I POKRECE USEFFECT    \n  }\n\n//FUNKCIJA ZA DODAVANJE NOVIH PODATAKA U USESTATE\n  function addToStorage(){\n\n    $(function(){\n        let index=$(\".carousel-item.active\").index();   //ODABIRE LIKA KOJEG TRENUTNO PRIKAZUJE\n        setList(previous=>[...previous,objectarray[index]]);\n    })\n  }\n\n//FUNKCIJA ZA BRISANJE SPREMLJENIH PODATAKA\n  function deleteBookmarks(){\n    localStorage.clear();\n    bookmarked();\n  }\n\n//FUNKCIJA ZA USPOREĐIVANJE LIKOVA\n  function compareCharacters(event){\n    compareselected++;\n    if(compareselected==2){\n      sel2=$(this).index();\n\n      $(this).addClass(\"selected\");\n      $(this).find(\".smalltext\").text(\"Second character chosen\");\n\n      let char1=list[sel1].comics.available;\n      let char2=list[sel2].comics.available;\n      let scaled1=char1;\n      let scaled2=char2;\n      $(\"#titleLabel\").text(list[sel1].name+\" VS \"+list[sel2].name+\" - Who's more popular?\");\n\n      if(char1>char2){\n        $(\".section2\").append(\"<p>\"+list[sel1].name+\" WINS!</p>\");\n\n        while(scaled1>300){\n          scaled1=scaled1/2;\n          scaled2=scaled2/2;  \n        }\n      }\n      else if(char2>char1){\n        $(\".section2\").append(\"<p>\"+list[sel2].name+\" WINS!</p>\");\n        while(scaled2>300){\n          scaled1=scaled1/2;\n          scaled2=scaled2/2;  \n        }\n      }\n      else{\n        $(\".section2\").append(\"<p>It's a draw!</p>\");\n        while(scaled2>300 && scaled1>300){\n          scaled1=scaled1/2;\n          scaled2=scaled2/2;  \n        }  \n      }\n      $(\".firstchargraph\").before(\"<img src='\"+list[sel1].thumbnail.path+\".jpg' class='comparephoto img-fluid'/>\");\n      $(\".secondchargraph\").before(\"<img src='\"+list[sel2].thumbnail.path+\".jpg' class='comparephoto img-fluid'/>\");\n      $(\".firstchargraph\").animate({height: scaled1+\"px\"},2000);\n      $(\".section1\").append(\"<span>\"+char1+\"</span>\");\n      $(\".section3\").append(\"<span>\"+char2+\"</span>\");\n      $(\".secondchargraph\").animate({height: scaled2+\"px\"},2000);\n      $('#staticBackdrop').modal('show');\n      sel1=sel2=null;\n      compareselected=0;\n\n    }\n    else{\n      sel1=$(this).index();\n      $(this).addClass(\"selected\");\n      $(this).find(\".smalltext\").text(\"First character chosen\");\n    }\n  };\n\n//FUNKCIJA ZA RESETIRANJE USPOREĐIVANJA\n  function resetModal(){\n    $(function(){\n      $(\".section2 p,.section1 span,.section3 span\").remove();\n      $(\".bookchar\").removeClass(\"selected\");\n      $(\".bookchar .smalltext\").text(\"Click to compare with another character\");\n      $(\".section1 img,.section3 img\").remove();\n      $(\".firstchargraph,.secondchargraph\").css({height: \"1px\"});\n    })\n  }\n\n//GLAVNA FUNKCIJA ZA UZIMATI I PRIKAZIVATI PODATKE IZ MARVEL API\n  function inputField(){\n    clearTimeout(timer);\n    timer = setTimeout(startSearch, 500);   //TIMEOUT KORISTI KAKO BI SE FUNKCIJA POZVALA SAMO NAKON STO KORISNIK PRESTANE PISATI\n    $(\".spinner-border\").fadeIn();\n\n    function startSearch(){\n      \n        search = document.getElementById(\"select\").value;   //UZIMA VRIJEDNOST IZ INPUTA\n        if(search==\"\"){search=\" \"};\n        $(\".spinner-border\").fadeOut();\n\n        //UZIMA PODATKE IZ API-JA I PRETVARA U OBJEKTA\n        fetch(\"https://gateway.marvel.com/v1/public/characters?ts=\"+timestamp+\"&nameStartsWith=\"+search+\"&apikey=7f9507ae90588d365ccdb128996f8f45&hash=\"+hash)\n        .then(res=>res.json())\n        .then(data=>{\n          objectarray=data.data.results;\n        })\n\n        //UZIMA BROJ REZULTATA KOJE JE NASLO\n        .then(()=>{\n          fetch(\"https://gateway.marvel.com/v1/public/characters?ts=\"+timestamp+\"&nameStartsWith=\"+search+\"&apikey=7f9507ae90588d365ccdb128996f8f45&hash=\"+hash)\n          .then( res => res.json())\n          .then( data => {\n            numofresults = data.data.results.length;\n          })\n\n          //PRIKAZUJE ELEMENTE NA SUCELJU\n          .then(()=>{\n\n            $(function(){\n              if(numofresults==0){\n                $(\"#carouselIndicators, .bookmark\").fadeOut();\n                $(\".noresult\").fadeIn(); \n              }\n              else{\n                $(\"#carouselIndicators, .bookmark\").fadeIn();\n                $(\".noresult\").fadeOut(); \n              }\n\n              $(\".carousel-indicators li\").remove();\n              $(\".carousel-inner .carousel-item\").remove();\n\n              for(let i=0; i<numofresults; i++){\n                $(\".carousel-indicators\").append(\"<li data-target='#carouselIndicators' data-slide-to=\"+i+\"></li>\"); \n                $(\".carousel-inner\").append(\"<div class='carousel-item'></div>\");\n                $(\".carousel-item\").eq(i).append(\"<h1>\"+objectarray[i].name+\"</h1>\");\n                $(\".carousel-item\").eq(i).append(\"<p>\"+objectarray[i].description+\"</p>\");\n        \n                $(\".carousel-item\").eq(i).append(\"<img src='\"+objectarray[i].thumbnail.path+\".jpg' class='picture img-fluid'/>\");\n\n                if(i==0){\n                  $(\".carousel-indicators li\").eq(0).addClass(\"active\");\n                  $(\".carousel-inner .carousel-item\").eq(0).addClass(\"active\");\n                }\n              }   \n            })\n          \n          })\n        })\n    }\n  }\n\n  return (\n  <div className=\"container\" id=\"App\">\n      <div className=\"row\">\n        <div className=\"col-lg-12\">\n          <img src={photo} className='img-fluid logo'></img>\n          <h1 align=\"center\">CHARACTER SEARCH</h1>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className=\"col-lg-12\">\n        <input type=\"text\" class=\"form-control\" placeholder=\"Search for any Marvel character...\" aria-label=\"Username\" aria-describedby=\"addon-wrapping\" id=\"select\" onChange={inputField}></input>\n        <div class=\"spinner-border text-danger\" role=\"status\">\n          <span class=\"sr-only\">Loading...</span>\n        </div>\n        </div>\n      </div>\n\n      <div className=\"row\">\n        <div className='col-lg-12'>\n          <div id=\"carouselIndicators\" class=\"carousel slide\" data-interval=\"false\">\n            <ol class=\"carousel-indicators\">\n            </ol>\n            <div class=\"carousel-inner\">\n            </div>\n            <button class=\"carousel-control-prev\" type=\"button\" data-target=\"#carouselIndicators\" data-slide=\"prev\">\n              <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n              <span class=\"sr-only\">Previous</span>\n            </button>\n            <button class=\"carousel-control-next\" type=\"button\" data-target=\"#carouselIndicators\" data-slide=\"next\">\n              <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n              <span class=\"sr-only\">Next</span>\n            </button>\n          </div>\n          <button onClick={addToStorage} type='button' className='btn btn-danger bookmark btn-lg'>Bookmark</button>\n          <div class='alert alert-danger noresult' role='alert'>NO RESULTS</div>\n        </div>  \n      </div>\n\n      <div className=\"row\">\n        <div className=\"col-lg-12\">\n          <h1 id=\"bookmarklist\">Bookmarked characters:</h1>\n          <button onClick={deleteBookmarks} type='button' className='btn btn-danger btn-lg'>Delete bookmarks</button>\n        </div> \n      </div>\n\n      <div className=\"row\">\n        <div className=\"col-lg-12 bookmarkedcharacters\">\n        </div>  \n      </div>\n\n      <div className=\"row\">\n        <div className='col-sm-12 credit'>\n          Created by Marin Boban\n        </div>\n      </div>\n\n      <div className='row'>\n        <div className='col-lg-12 modaldiv'>\n          <div class=\"modal fade\" id=\"staticBackdrop\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\n            <div class=\"modal-dialog\">\n              <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                  <h5 class=\"modal-title\" id=\"titleLabel\"></h5>\n                  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" onClick={resetModal}>\n                    <span aria-hidden=\"true\">&times;</span>\n                  </button>\n                </div>\n                <div class=\"modal-body\">\n                  <div class=\"section1\">\n                    <div className=\"firstchargraph\"></div>\n                  </div>\n\n                  <div class=\"section2\">\n\n                  </div>\n\n                  <div class=\"section3\">\n                    <div className=\"secondchargraph\"></div>\n                  </div>\n\n                </div>\n                <div class=\"modal-footer\">\n                  <p>The numbers represent how many comics the characters appeared in.</p>\n                  <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" onClick={resetModal}>Close</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n  </div>\n  );\n}\n\nexport default App;\n","export default __webpack_public_path__ + \"static/media/marvellogo.0638ee23.png\";","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\nif (module.hot){\n  module.hot.accept(\"./App\", () =>{\n    const NextApp = require(\"./App\").default;\n    ReactDOM.render(\n      <NextApp/>,\n      document.getElementById(\"root\")\n    )\n  });\n}\n"],"sourceRoot":""}